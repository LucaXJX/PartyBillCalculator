<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>智能賬單計算 - PBC聚賬通</title>
    <!-- Ionic CDN -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
    />

    <!-- Font Awesome CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f3f4f6;
      }
      .fa {
        vertical-align: middle;
      }
    </style>
  </head>
  <body>
    <ion-app>
      <!-- 頂部導航 -->
      <ion-header>
        <ion-toolbar color="primary">
          <ion-buttons slot="start">
            <ion-back-button defaultHref="/index.html"></ion-back-button>
          </ion-buttons>
          <ion-title>
            <img
              src="/img/icon32x32.png"
              alt="logo"
              style="height: 24px; vertical-align: middle; margin-right: 8px"
            />
            PBC聚賬通
          </ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content fullscreen>
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <i class="fa fa-calculator text-primary"></i>
              智能賬單計算
            </ion-card-title>
            <ion-card-subtitle
              >簡單輸入，公平分攤，輕鬆搞定每一筆聚會賬單</ion-card-subtitle
            >
          </ion-card-header>
          <ion-card-content>
            <!-- 基本信息 -->
            <ion-item>
              <ion-label position="stacked">聚會名稱</ion-label>
              <ion-input
                id="bill-name"
                placeholder="例如：週末聚餐、公司下午茶"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="stacked">日期</ion-label>
              <ion-item lines="none">
                <ion-datetime
                  id="bill-date"
                  presentation="date"
                  display-format="YYYY-MM-DD"
                  value=""
                ></ion-datetime>
                <ion-button
                  size="small"
                  fill="outline"
                  style="margin-left: 8px"
                  onclick="document.getElementById('bill-date').value = new Date().toISOString().slice(0,10);"
                >
                  今天
                </ion-button>
              </ion-item>
            </ion-item>
            <ion-item>
              <ion-label position="stacked">地點</ion-label>
              <ion-input
                id="bill-location"
                placeholder="例如：麥當勞、鼎泰豐"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="stacked">小費比例 (%)</ion-label>
              <ion-input
                id="bill-tip"
                type="number"
                min="0"
                max="100"
                placeholder="0"
              ></ion-input>
            </ion-item>

            <!-- 參與者 -->
            <ion-list id="participants-container">
              <ion-list-header>
                <ion-label
                  ><i class="fa fa-users text-primary"></i> 參與者</ion-label
                >
                <ion-button id="add-person-btn" fill="outline" size="small">
                  <i class="fa fa-plus-circle"></i> 添加參與者
                </ion-button>
              </ion-list-header>
              <!-- 參與者項目將由JS動態添加 -->
            </ion-list>

            <!-- 消費項目 -->
            <ion-list id="items-container">
              <ion-list-header>
                <ion-label
                  ><i class="fa fa-shopping-basket text-primary"></i>
                  消費項目</ion-label
                >
                <ion-button id="add-item-btn" fill="outline" size="small">
                  <i class="fa fa-plus-circle"></i> 添加項目
                </ion-button>
              </ion-list-header>
              <!-- 項目將由JS動態添加 -->
            </ion-list>

            <!-- 操作按鈕 -->
            <ion-grid>
              <ion-row>
                <ion-col>
                  <ion-button id="save-draft-btn" expand="block" fill="outline">
                    <i class="fa fa-save"></i> 保存草稿
                  </ion-button>
                </ion-col>
                <ion-col>
                  <ion-button id="calculate-btn" expand="block" color="primary">
                    <i class="fa fa-calculator"></i> 開始計算
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>

        <!-- 計算結果模態框 -->
        <ion-modal id="result-modal">
          <ion-content>
            <ion-card>
              <ion-card-header color="primary">
                <ion-card-title>
                  <i class="fa fa-check-circle"></i> 計算結果
                </ion-card-title>
                <ion-button id="close-modal-btn" slot="end" fill="clear">
                  <i class="fa fa-times"></i>
                </ion-button>
              </ion-card-header>
              <ion-card-content>
                <!-- 結果內容區域 -->
                <div id="result-content"></div>
                <ion-grid>
                  <ion-row>
                    <ion-col>
                      <ion-button expand="block" fill="outline">
                        <i class="fa fa-print"></i> 列印報告
                      </ion-button>
                    </ion-col>
                    <ion-col>
                      <ion-button expand="block" fill="outline">
                        <i class="fa fa-share-alt"></i> 分享結果
                      </ion-button>
                    </ion-col>
                    <ion-col>
                      <ion-button
                        id="save-result-btn"
                        expand="block"
                        color="primary"
                      >
                        <i class="fa fa-save"></i> 保存賬單
                      </ion-button>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
            </ion-card>
          </ion-content>
        </ion-modal>
      </ion-content>

      <ion-footer>
        <ion-toolbar color="dark">
          <ion-title size="small"
            >&copy; 2025 PBC聚賬通. 保留所有權利</ion-title
          >
        </ion-toolbar>
      </ion-footer>
    </ion-app>

    <script></script>
  </body>
</html>
